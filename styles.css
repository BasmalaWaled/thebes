/* Shared responsive helpers (non-invasive) */
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; }
img { max-width: 100%; height: auto; display: block; }

/* Optional utility: ensure touch targets are usable without changing layout */
button, .back-circle, .back-btn { min-height: 40px; }

/* Card images: make them fill card width and keep aspect ratio */
.card > img,
.grid .card > img {
  width: 100%;
  height: auto;
  display: block;
  aspect-ratio: 16/9;
  object-fit: cover;
  border-top-left-radius: inherit;
  border-top-right-radius: inherit;
}

/* Ensure wrapper pattern (card-image) also covers the container */
.card .card-image img { width: 100%; height: 100%; object-fit: cover; }

/* Ensure discover card images fill card width with consistent ratio */
.discover-card img {
  width: 100%;
  height: auto; /* override fixed height in page styles */
  aspect-ratio: 16/9;
  object-fit: cover;
}

/* Make Discover cards full-bleed image: remove outer padding on the card */
.discover-card { padding: 0 !important; overflow: hidden; }
.discover-card .card-content { padding: 12px 12px 14px; }

/* Mobile header/navbar adjustments */
@media (max-width: 480px) {
  /* Generic header in discover.html */
  .header { padding: 12px 14px; border-bottom-left-radius: 18px; border-bottom-right-radius: 18px; }
  .header .title { font-size: clamp(16px, 5vw, 18px); }
  .header-right a { font-size: 22px; }

  /* Topbar used in index and category pages */
  .topbar { padding: 16px 14px 18px; border-bottom-left-radius: 18px; border-bottom-right-radius: 18px; }
  .topbar-title { font-size: clamp(18px, 5vw, 22px); }
  .topbar-sub { font-size: clamp(12px, 3.6vw, 15px); }
  .brand-icon { width: 36px; height: 36px; font-size: 18px; }
  .left-tools { gap: 8px; }
  .lang-toggle { padding: 6px 10px; font-size: 12px; }
  .icon-btn { font-size: 16px; }
  .topbar-row { justify-content: center; }
  /* Make brand block centered and non-absolute on phones */
  .brand { position: static; margin: 0 auto; justify-content: center; width: 100%; }
  .brand-text { align-items: center; text-align: center; }
  .brand-icon { width: 30px; height: 30px; font-size: 16px; }
  /* Clamp subtitle to one line to avoid tall header */
  .topbar-sub { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

  /* Search spacing under header */
  .search, .header-search { margin-top: 8px; }

  /* Slightly taller ratio on very small screens for better readability */
  .card > img,
  .grid .card > img { aspect-ratio: 4/3; }

  /* Prevent overlap: left tools vs brand block */
  .topbar-row { position: relative; min-height: 56px; }
  .left-tools { position: absolute; left: 8px; top: 10px; transform: none; gap: 6px; }
  .lang-toggle { padding: 4px 8px; font-size: 11px; }
  .icon-btn { font-size: 14px; }
  .topbar-title { font-size: 20px; }
  .topbar-sub { font-size: 12px; max-width: 85%; margin-top: 2px; }

  /* Make Discover on index two columns on phones */
  body[data-page="index"] .grid { grid-template-columns: repeat(2, 1fr) !important; }

  /* Mobile: make primary action buttons full-width and comfy */
  .action-button, .map-button {
    width: calc(100% - 32px);
    margin: 12px auto 0;
    padding: 14px 16px;
    font-size: 16px;
    border-radius: 12px;
  }
}

/* Tablet: slightly wider buttons with balanced padding */
@media (min-width: 481px) and (max-width: 768px) {
  .action-button, .map-button {
    width: 70%;
    margin: 16px auto 0;
    padding: 16px 18px;
    font-size: 17px;
    border-radius: 14px;
  }
}